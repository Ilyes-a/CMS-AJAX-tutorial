<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Int√©gration SI dans WordPress avec HFCM</title>
  <meta name="description" content="Int√©gration d'un syst√®me d'information externe dans WordPress via fetch() et l'injection de code avec le plugin Head, Footer and Post Injections (HFCM)." />
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header>
    <h1>üåê Int√©gration SI dans WordPress</h1>
  </header>

  <!-- Menu de navigation -->
  <nav>
    <ul>
      <li><a href="index.html">Accueil</a></li>
      <li><a href="wordpress.html">WordPress</a></li>
      <li><a href="joomla.html">Joomla</a></li>
      <li><a href="websitebaker.html">WebSiteBaker</a></li>
      <li><a href="SI.html">Syst√®me d'Information</a></li>
      <li><a href="CasGen.html">Cas G√©n√©ral</a></li>
    </ul>
  </nav>

  <main>
    <!-- Pr√©sentation du projet d'int√©gration pour WordPress -->
    <section id="description">
      <h2>Pr√©sentation du Projet</h2>
      <p>
        Ce projet permet de connecter un Syst√®me d‚ÄôInformation externe √† WordPress sans alt√©rer les fichiers internes du CMS.
        Au lieu d'h√©berger et de g√©rer toutes les fonctionnalit√©s directement dans WordPress, le contenu dynamique (pages de connexion, inscription, profil, r√©servation‚Ä¶) est g√©r√© par le SI.
      </p>
      <p>
        L'objectif est d'avoir une int√©gration fluide et adaptable : WordPress se charge de la pr√©sentation (menus, articles, etc.) tandis que le SI fournit des pages et scripts via des appels fetch().
      </p>
    </section>

    <!-- √âtapes d'int√©gration dans WordPress -->
    <section id="integration-steps">
      <h2>√âtapes d'Int√©gration dans WordPress</h2>
      <ol>
        <li>
          <strong>Installation du Plugin HFCM :</strong>
          <p>
            Installez le plugin <em>Head, Footer and Post Injections</em> depuis le r√©pertoire WordPress. Ce plugin permettra d'injecter du code JavaScript global sur toutes les pages.
          </p>
        </li>
        <li>
          <strong>Configuration du Global Header :</strong>
          <p>
            Cr√©ez un bloc "Global Header" dans HFCM et ins√©rez-y le code JavaScript qui g√®re l'affichage conditionnel des liens de navigation. Le script v√©rifiera la pr√©sence d'un token (stock√© via localStorage) pour d√©terminer si l'utilisateur est connect√© ou non.
          </p>
        </li>
        <li>
          <strong>Utilisation de Fetch pour Charger le Contenu du SI :</strong>
          <p>
            Dans vos pages WordPress, ins√©rez un petit script utilisant <code>fetch()</code> pour r√©cup√©rer dynamiquement les pages du SI (par exemple, la page de login, d'inscription, etc.). Ainsi, le contenu affich√© reste toujours √† jour sans avoir √† modifier manuellement chaque page.
          </p>
        </li>
      </ol>
    </section>

    <!-- Exemple de code d'int√©gration utilisant fetch -->
    <section id="fetch-code">
      <h2>Exemple de Code d'Int√©gration avec Fetch</h2>
      <p>
        Voici un exemple illustrant comment charger dynamiquement la page Login depuis le SI via <code>fetch()</code>. Ce code est ins√©r√© dans une page WordPress (via HFCM ou un template personnalis√©).
      </p>
      <pre><code>&lt;div id="app-login"&gt;Chargement...&lt;/div&gt;
&lt;script&gt;
document.addEventListener("DOMContentLoaded", () =&gt; {
  // Injection du CSS commun s'il n'est pas d√©j√† pr√©sent
  const cssHref = "http://192.168.1.77/style.css";
  if (!document.querySelector(`link[href="${cssHref}"]`)) {
    const css = document.createElement("link");
    css.rel = "stylesheet";
    css.href = cssHref;
    document.head.appendChild(css);
  }
  
  // R√©cup√©ration de la page Login depuis le SI
  fetch("http://192.168.1.77/login.html")
    .then(res =&gt; res.text())
    .then(html =&gt; {
      document.getElementById("app-login").innerHTML = html;
      // Injection du script sp√©cifique √† la page Login
      const script = document.createElement("script");
      script.src = "http://192.168.1.77/login.js";
      document.body.appendChild(script);
    });
});
&lt;/script&gt;
      </code></pre>
      <p>
        Ce code s'adapte automatiquement en fonction de l'√©tat de l'utilisateur et charge le contenu √† partir du SI h√©berg√© √† l'adresse sp√©cifi√©e.
      </p>
    </section>

    <!-- Int√©gration avec HFCM pour la gestion du menu -->
    <section id="hfcm-integration">
      <h2>Int√©gration via HFCM pour la Gestion du Menu</h2>
      <p>
        Gr√¢ce au plugin HFCM, nous injectons un script global dans l'en-t√™te qui g√®re la visibilit√© des liens du menu. Par exemple, les liens "Login" et "Register" sont masqu√©s lorsque l'utilisateur est connect√©, et les liens "Mon Compte" et "R√©server" sont affich√©s.
      </p>
      <pre><code>&lt;script&gt;
  document.addEventListener("DOMContentLoaded", () =&gt; {
    const token = localStorage.getItem("jwt");
    // S√©lection des liens du menu dans WordPress
    const loginLink = document.querySelector('a[href*="/login"]');
    const registerLink = document.querySelector('a[href*="/inscription"]');
    const compteLink = document.querySelector('a[href*="/mon-compte"]');
    const reservationLink = document.querySelector('a[href*="/reserver"]');
    
    if (token) {
      if (loginLink) loginLink.style.display = "none";
      if (registerLink) registerLink.style.display = "none";
      if (compteLink) compteLink.style.display = "inline-block";
      if (reservationLink) reservationLink.style.display = "inline-block";
    } else {
      if (loginLink) loginLink.style.display = "inline-block";
      if (registerLink) registerLink.style.display = "inline-block";
      if (compteLink) compteLink.style.display = "none";
      if (reservationLink) reservationLink.style.display = "none";
    }
  });
&lt;/script&gt;
      </code></pre>
      <p>
        Ce script est inject√© globalement par HFCM, ce qui √©vite de modifier chaque page individuellement et garantit que la navigation s'adapte automatiquement √† l'√©tat de connexion de l'utilisateur.
      </p>
    </section>

    <!-- R√©sum√© de l'int√©gration -->
    <section id="resume">
      <h2>R√©sum√© de l'Int√©gration</h2>
      <p>
        En r√©sum√©, notre approche permet d'externaliser des fonctionnalit√©s dynamiques vers un Syst√®me d‚ÄôInformation d√©di√© tout en conservant WordPress comme gestionnaire de contenu principal.
        L'utilisation des appels <code>fetch()</code> pour charger les pages du SI, combin√©e √† l'injection du code via le plugin HFCM, assure une int√©gration fluide et √©volutive.
      </p>
      <p>
        Cette m√©thode offre une grande flexibilit√© : toute mise √† jour du SI se r√©percute automatiquement sur le site WordPress, sans n√©cessiter de changements dans le CMS.
      </p>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Grp ISEN M1. Tous droits r√©serv√©s.</p>
  </footer>

</body>
</html>
