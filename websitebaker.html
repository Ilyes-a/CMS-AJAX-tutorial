<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Intégration SI dans WebSiteBaker</title>
  <meta name="description" content="Tutoriel pour intégrer un système externe dans WebSiteBaker en important dynamiquement des vues HTML, CSS et JS." />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Intégration SI dans WebSiteBaker</h1>
  </header>
  
  <!-- Menu de navigation commun -->
  <nav>
    <ul>
      <li><a href="index.html">Accueil</a></li>
      <li><a href="wordpress.html">WordPress</a></li>
      <li><a href="joomla.html">Joomla</a></li>
      <li><a href="websitebaker.html" class="active">WebSiteBaker</a></li>
      <li><a href="SI.html">Configuration SI</a></li>
      <li><a href="CasGen.html">Cas Général</a></li>
    </ul>
  </nav>
  
  <main>
    <section id="wsb-overview">
      <h2>Vue d'ensemble</h2>
      <p>
        Dans WebSiteBaker, l'intégration se fait en configurant des pages qui incorporent dynamiquement le contenu du SI via <code>fetch()</code>. WebSiteBaker gère la présentation statique, tandis que le contenu dynamique est importé depuis le SI.
      </p>
    </section>
    
    <section id="wsb-instructions">
      <h2>Instructions d'Intégration</h2>
      <ol>
        <li>
          <strong>Créer les pages :</strong> Dans l'interface d'administration, créez les pages (Accueil, Login, Register, Mon Compte, Réserver) et insérez un script pour charger dynamiquement la vue depuis le SI.
        </li>
        <li>
          <strong>Configurer Apache :</strong> Ajoutez un alias pour rediriger vers le dossier API du SI. Par exemple, dans <code>/etc/apache2/sites-available/000-default.conf</code> :
          <pre><code class="apache">
Alias /api /chemin/vers/API_SYS_INFORMATION/api

&lt;Directory /chemin/vers/API_SYS_INFORMATION/api&gt;
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
    Header always set Access-Control-Allow-Origin "*"
&lt;/Directory&gt;
          </code></pre>
        </li>
        <li>
          <strong>Code d'injection :</strong> Voici un exemple pour la page Login :
          <pre><code>&lt;div id="app-login"&gt;Chargement...&lt;/div&gt;
&lt;script&gt;
document.addEventListener("DOMContentLoaded", () =&gt; {
  const cssHref = "http://192.168.1.77/style.css";
  if (!document.querySelector(`link[href="${cssHref}"]`)) {
    const css = document.createElement("link");
    css.rel = "stylesheet";
    css.href = cssHref;
    document.head.appendChild(css);
  }
  fetch("http://192.168.1.77/login.html")
    .then(res =&gt; res.text())
    .then(html =&gt; {
      document.getElementById("app-login").innerHTML = html;
      const script = document.createElement("script");
      script.src = "http://192.168.1.77/login.js";
      document.body.appendChild(script);
    });
});
&lt;/script&gt;
          </code></pre>
        </li>
      </ol>
    </section>
  </main>
  
  <footer>
    <p>&copy; 2025 Grp ISEN M1. Tous droits réservés.</p>
  </footer>
</body>
</html>
