<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Intégration pour Joomla</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Intégration avec Joomla</h1>
  </header>

  <!-- Menu de navigation -->
  <nav>
    <ul>
      <li><a href="index.html">Accueil</a></li>
      <li><a href="wordpress.html">WordPress</a></li>
      <li><a href="joomla.html">Joomla</a></li>
      <li><a href="websitebaker.html">WebsiteBaker</a></li>
    </ul>
  </nav>

  <main>
    <section id="presentation-joomla">
      <h2>Intégration dans Joomla</h2>
      <p>
        Pour intégrer votre SPA dans Joomla, il est recommandé d’utiliser un module personnalisé ou le module HTML de base.
        L’idée est d’injecter dynamiquement les pages HTML et d’appeler les routes de l’API.
      </p>
    </section>

    <section id="instructions-joomla">
      <h3>Étapes à suivre :</h3>
      <ol>
        <li>
          <strong>Créer un module personnalisé :</strong>
          <p>Dans l’administration Joomla, rendez-vous dans <em>Extensions > Modules</em> et créez un nouveau module de type <strong>HTML personnalisé</strong>.</p>
        </li>
        <li>
          <strong>Injection du code JavaScript :</strong>
          <p>Ajoutez le script suivant dans le module pour gérer l’affichage des liens en fonction de l’authentification :</p>
          <pre><code>
&lt;script&gt;
  document.addEventListener("DOMContentLoaded", () => {
    const token = localStorage.getItem("jwt");

    const loginLink = document.querySelector('a[href*="/login"]');
    const registerLink = document.querySelector('a[href*="/inscription"]');
    const compteLink = document.querySelector('a[href*="/mon-compte"]');
    const reservationLink = document.querySelector('a[href*="/reserver"]');

    if (token) {
      if (loginLink) loginLink.style.display = "none";
      if (registerLink) registerLink.style.display = "none";
      if (compteLink) compteLink.style.display = "inline-block";
      if (reservationLink) reservationLink.style.display = "inline-block";
    } else {
      if (loginLink) loginLink.style.display = "inline-block";
      if (registerLink) registerLink.style.display = "inline-block";
      if (compteLink) compteLink.style.display = "none";
      if (reservationLink) reservationLink.style.display = "none";
    }
  });
&lt;/script&gt;
          </code></pre>
        </li>
        <li>
          <strong>Injection de la SPA :</strong>
          <p>Créez une position dans votre template Joomla où vous placerez la vue de votre SPA (fichiers contenus dans <code>spa-php/</code>). Cela peut se faire via un module ou en modifiant le template directement.</p>
        </li>
      </ol>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Grp ISEN M1. Tous droits réservés.</p>
  </footer>
</body>
</html>
